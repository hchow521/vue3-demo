{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/views/ball/index.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.array.fill.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","width","height","animation","context","canvas","ref","balls","random","min","max","Math","floor","randomColor","join","Ball","x","y","velX","velY","color","size","this","updated","prototype","draw","beginPath","fillStyle","arc","PI","fill","update","checkCollision","ball","distance","sqrt","setup","onMounted","el","parent","parentNode","clientHeight","clientWidth","getContext","push","requestAnimationFrame","loop","onActivated","onDeactivated","cancelAnimationFrame","render","h","style","onClick","toggle","fillRect","toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","O","argumentsLength","arguments","index","undefined","end","endPos","$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","fails","METHOD_NAME","argument","method","addToUnscopables"],"mappings":"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","file":"js/chunk-581925d1.8fb27d0b.js","sourcesContent":["import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","\nimport { onActivated, onDeactivated, onMounted, ref, h } from 'vue'\nlet context = null, width, height, animation;\nconst canvas = ref(null), balls = []\n\nfunction random(min,max) {\n  return Math.floor(Math.random()*(max-min)) + min;\n}\n\nfunction randomColor() {\n  return `rgba(${[random(0, 255),random(0, 255),random(0, 255)].join(',')})`\n}\n\nfunction Ball(x, y, velX, velY, color, size) {\n  this.x = x;\n  this.y = y;\n  this.velX = velX;\n  this.velY = velY;\n  this.color = color;\n  this.size = size;\n  this.updated = false;\n}\nBall.prototype.draw = function() {\n  context.beginPath();\n  context.fillStyle = this.color;\n  context.arc(this.x, this.y, this.size, 0, 2 * Math.PI);\n  context.fill();\n}\nBall.prototype.update = function() {\n  if ((this.x + this.size) >= width) {\n    this.velX = -(this.velX);\n  }\n\n  if ((this.x - this.size) <= 0) {\n    this.velX = -(this.velX);\n  }\n\n  if ((this.y + this.size) >= height) {\n    this.velY = -(this.velY);\n  }\n\n  if ((this.y - this.size) <= 0) {\n    this.velY = -(this.velY);\n  }\n\n  this.x += this.velX;\n  this.y += this.velY;\n}\nBall.prototype.checkCollision = function() {\n  let updated = false\n  for (const ball of balls) {\n    if (ball !== this) {\n      const x = this.x - ball.x\n      const y = this.y - ball.y\n      const distance = Math.sqrt(x * x + y * y)\n      if (distance < this.size + ball.size) {\n        updated = true\n        if (!this.updated) {\n          this.color = randomColor()\n        }\n      }\n    }\n  }\n  this.updated = updated\n}\nexport default {\n  setup() {\n    onMounted(() => {\n      const el = canvas.value\n      const parent = el.parentNode\n      height = el.height = parent.clientHeight\n      width = el.width = parent.clientWidth\n      context = el.getContext('2d')\n      while (balls.length < 25) {\n        let size = random(10, 20);\n        let ball = new Ball(\n          // 为避免绘制错误，球至少离画布边缘球本身一倍宽度的距离\n          random(0 + size, width - size),\n          random(0 + size, height - size),\n          random(-7, 7),\n          random(-7, 7),\n          randomColor(),\n          size\n        );\n        balls.push(ball);\n      }\n      animation = requestAnimationFrame(loop)\n    })\n    onActivated(() => {\n      if (context && !animation) animation = requestAnimationFrame(loop)\n    })\n    onDeactivated(() => {\n      cancelAnimationFrame(animation)\n      animation = null\n    })\n  },\n  render() {\n    return h(\n      'div',\n      {\n        style: 'width: 100%;height: 100%;'\n      },\n      [\n        h(\n          'canvas',\n          {\n            ref: canvas\n          }\n        ),\n        h(\n          'button',\n          {\n            style: 'position:absolute;top:0;left:0;',\n            onClick: toggle\n          },\n          '暂停/启动'\n        )\n      ]\n    )\n  }\n}\n// 循环\nfunction loop() {\n  context.fillStyle = 'rgba(0, 0, 0, 0.25)';\n  context.fillRect(0, 0, width, height);\n  for (let i = 0; i < balls.length; i++) {\n    balls[i].draw();\n    balls[i].update();\n    balls[i].checkCollision();\n  }\n  animation = requestAnimationFrame(loop);\n}\n\n// 暂停/启动\nfunction toggle() {\n  if (animation) {\n    cancelAnimationFrame(animation)\n    animation = null\n  } else {\n    if (context) animation = requestAnimationFrame(loop)\n  }\n}","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n"],"sourceRoot":""}