{"version":3,"sources":["webpack:///./src/views/canvas.vue","webpack:///./src/views/canvas.vue?146b"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","onClick","$options","data","canvas","length","add","animation","timer","created","this","initCanvas","methods","$el","querySelector","width","height","getContext","strokeStyle","console","log","requestAnimationFrame","loop","alert","setTimeout","fillStyle","fillRect","beginPath","moveTo","lineTo","stroke","stop","cancelAnimationFrame","toggle","activated","deactivated","__exports__","render"],"mappings":"2IAEIA,gCAAiB,uB,wDADnBC,gCAGM,YAFJC,EACAF,gCAAuC,UAA9BG,QAAK,8BAAEC,yCAAQ,YAKb,OACbC,KADa,WAEX,MAAO,CACLC,OAAQ,KACRC,OAAQ,EACRC,KAAK,EACLC,UAAW,KACXC,MAAO,IAGXC,QAVa,WAWXC,KAAKC,cAEPC,QAAS,CACPD,WADO,WACM,aACLP,EAAK,UAAIM,KAAKG,WAAT,aAAI,EAAUC,cAAc,UACnCV,GACFA,EAAOW,MAAQ,IACfX,EAAOY,OAAS,IAChBN,KAAKN,OAASA,EAAOa,WAAW,MAChCP,KAAKN,OAAOc,YAAc,OAC1BC,QAAQC,IAAIV,KAAKN,QACjBM,KAAKH,UAAYc,sBAAsBX,KAAKY,OAExCZ,KAAKF,MAAQ,IACfe,MAAM,8BAENb,KAAKF,QACLgB,YAAW,WACT,EAAKb,eACJ,OAITW,KArBO,WAsBLZ,KAAKN,OAAOqB,UAAY,UACxBf,KAAKN,OAAOsB,SAAS,EAAG,EAAG,IAAK,KAC5BhB,KAAKJ,KACPI,KAAKL,SACDK,KAAKL,OAAS,MAChBK,KAAKL,OAAS,IACdK,KAAKJ,KAAM,KAGbI,KAAKL,SACDK,KAAKL,OAAS,IAChBK,KAAKL,OAAS,EACdK,KAAKJ,KAAM,IAGfI,KAAKN,OAAOuB,YACZjB,KAAKN,OAAOwB,OAAO,EAAG,GACtBlB,KAAKN,OAAOyB,OAAOnB,KAAKL,OAAQK,KAAKL,QACrCK,KAAKN,OAAO0B,SACZpB,KAAKH,UAAYc,sBAAsBX,KAAKY,OAE9CS,KA3CO,WA4CLC,qBAAqBtB,KAAKH,WAC1BG,KAAKH,UAAY,MAEnB0B,OA/CO,WAgDDvB,KAAKH,UACPG,KAAKqB,OAEDrB,KAAKN,SAAQM,KAAKH,UAAYc,sBAAsBX,KAAKY,SAInEY,UApEa,YAqENxB,KAAKH,WAAaG,KAAKN,SAC1BM,KAAKH,UAAYc,sBAAsBX,KAAKY,QAGhDa,YAzEa,WA0EXzB,KAAKqB,S,qBC7ET,MAAMK,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0c9766.b0124535.js","sourcesContent":["<template>\n  <div>\n    <canvas></canvas>\n    <button @click=\"toggle\">toggle</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      canvas: null,\n      length: 0,\n      add: true,\n      animation: null,\n      timer: 0\n    }\n  },\n  created() {\n    this.initCanvas()\n  },\n  methods: {\n    initCanvas() {\n      const canvas = this.$el?.querySelector('canvas')\n      if (canvas) {\n        canvas.width = 400\n        canvas.height = 400\n        this.canvas = canvas.getContext('2d')\n        this.canvas.strokeStyle = '#999'\n        console.log(this.canvas)\n        this.animation = requestAnimationFrame(this.loop)\n      } else {\n        if (this.timer > 100) {\n          alert('初始化canvas超时，请检查canvas是否存在')\n        } else {\n          this.timer++\n          setTimeout(() => {\n            this.initCanvas()\n          }, 100)\n        }\n      }\n    },\n    loop() {\n      this.canvas.fillStyle = '#f5f5f5';\n      this.canvas.fillRect(0, 0, 400, 400);\n      if (this.add) {\n        this.length++\n        if (this.length > 400) {\n          this.length = 400\n          this.add = false\n        }\n      } else {\n        this.length--\n        if (this.length < 0) {\n          this.length = 0\n          this.add = true\n        }\n      }\n      this.canvas.beginPath();\n      this.canvas.moveTo(0, 0)\n      this.canvas.lineTo(this.length, this.length)\n      this.canvas.stroke()\n      this.animation = requestAnimationFrame(this.loop)\n    },\n    stop() {\n      cancelAnimationFrame(this.animation)\n      this.animation = null\n    },\n    toggle() {\n      if (this.animation) {\n        this.stop()\n      } else {\n        if (this.canvas) this.animation = requestAnimationFrame(this.loop)\n      }\n    }\n  },\n  activated() {\n    if (!this.animation && this.canvas) {\n      this.animation = requestAnimationFrame(this.loop)\n    }\n  },\n  deactivated() {\n    this.stop()\n  }\n  \n}\n</script>","import { render } from \"./canvas.vue?vue&type=template&id=f3d54532\"\nimport script from \"./canvas.vue?vue&type=script&lang=js\"\nexport * from \"./canvas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/hchow/projects/vue3-test/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}